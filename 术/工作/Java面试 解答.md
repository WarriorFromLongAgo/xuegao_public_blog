

# 算法
## 冒泡排序
请将数组a日 进行从小到大推序，假设 a[2.4,5.10,-1,-4](不能内置或框架方法)

```java
public class 冒泡排序 {
    public static void main(String[] args) {
        double[] doubleArr = new double[]{2.4, 5.10, -1, -4};
        double[] sort = sort(doubleArr);
        System.out.println("end = " + Arrays.toString(sort));
    }

    public static double[] sort(double[] inputArr) {
        // 最外层遍历
        // 在i+1的地方，进行内层的遍历，如果i比i+1大，那么交换位置，小的保持在前面
        if (Objects.isNull(inputArr) || inputArr.length <= 1) {
            return inputArr;
        }
        for (int i = 0; i < inputArr.length; i++) {
            for (int j = i + 1; j < inputArr.length; j++) {
                double tempI = inputArr[i];
                double tempJ = inputArr[j];
                if (tempI > tempJ) {
                    inputArr[j] = tempI;
                    inputArr[i] = tempJ;
                }
            }
        }
        return inputArr;
    }

    public static double[] sortV2(double[] inputArr) {
        // 最外层遍历
        // 在i+1的地方，进行内层的遍历，如果i比i+1大，那么交换位置，小的保持在前面
        if (Objects.isNull(inputArr) || inputArr.length <= 1) {
            return inputArr;
        }
        for (int i = 0; i < inputArr.length - 1; i++) {
            for (int j = i + 1; j < inputArr.length - i - 1; j++) {
                double tempI = inputArr[i];
                double tempJ = inputArr[j];
                if (tempI > tempJ) {
                    inputArr[j] = tempI;
                    inputArr[i] = tempJ;
                }
            }
        }
        return inputArr;
    }

}
```


## 遍历二叉树
普通的遍历二叉树
普通的递归进行遍历二叉树
也可以，使用栈，进行遍历二叉树

## 大数据量的情况下遍历二叉树
假设上述二叉树有1亿个节点，试写出不会宕机的遍历方案

## 1G的数据，100M内存，如何找到 Top10

## 场景题：100片药A，100片药B，每天必须吃一片A和一片B，怎么活下来？

## 知道什么查找算法？

## 求TopK问题能用什么解决方法？

## 除了堆排序还能用什么方法来解决？




# 计算机网络基础
## 什么是TCP/IP协议？TCP/IP协议的特点是什么？

## tcp四次挥手过程？为什么等待2MSL？

## 为什么连接的时候是三次握手，关闭的时候却是四次握手？

## 什么是HTTP协议？HTTP协议的特点是什么？

## 什么是HTTPS协议？HTTPS协议的特点是什么？

## HTTPS和HTTP的区别？连接建立的过程？


## 什么是DNS协议？DNS协议的特点是什么？

## 输入url到页面加载完中间的流程？

## cookie和session

## session的过期时间设置的多少

## 为什么使用cookie会导致csrf攻击？

## 为什么使用jwt能避免csrf攻击呢？

## 在goole域名中查看baidu域名的cookie能查看到吗？

## TCP的通信过程是怎么样的。

## TCP 底层是怎么实现的，如果让你用 Java 模拟 TCP 的过程，做一个仿真，你有什么想法。大学学习计网的时候，协议栈之类的了解过吗（这部分我都不懂，认栽了）

## 输入ping命令之后会发生什么？

## ping不通的话浏览器能访问到吗？

## HTTP1.1和HTTP2.0的主要区别？

## 分布式session单点登录的解决方案。

## 怎么防止Session泄露的问题？

## session怎么存储的？ 
redis的hash

## session的key是怎么生成的？ 
用户的id和时间戳

## 同一个用户在不同设备登录，之前的session怎么办？ 把用户id作为key，
value是登录的session的key，当用户又一次登录就删除之前的session

# Javase 基础
## 面向对象的特性 ？

## 重载和重写的区别 ？

## 什么时候需要重写父类的方法？

## 面向对象的设计原则？

## 什么是多态？

## 什么是内存泄漏？举个例子

## 什么是内存溢出？

## java的虚引用是什么用的？ 什么时候会用到？

## hashmap源码，为什么8个节点变成红黑树 又为什么到了6个节点才恢复为链表？ 

## hashmap的扩容机制？

## HashMap 源码，数据结构，如何避免哈希冲突，对比 HashTable

## HashMap 源码中，计算 hash 值为什么有一个 高 16 位 和 低 16 位异或的过程？

## HashMap并发的时候会有什么问题。

## 为什么重写 equals 还要重写 hashCode，不重写会有什么问题

## 算法题：重写equals （注意细节的题，开始时先判断地址是否相等，然后比较时要记得判空）

## Java的泛型了解吗？

## ConcurrentHashMap 底层实现，扩容问题。

## 如果让你自己实现哈希表，你会考虑什么问题？

## Java 引用类型，强软弱虚

## Java 是引用传递还是值传递

## Object 类你了解哪些方法

## 接口和抽象类的区别

## 饿汉式单例模式，有什么线程并发的问题？

## 写好的Java文件怎么去转换成机器码的并执行的一系列流程？

## final有什么用。除了防止继承以及修饰为常量之外还有什么用？

## 用过哪些序列化，java序列化的原理，底层算法？


# Java线程
## Java线程调度
抢占式的线程调度模式

## 线程池为什么用new的不好？线程池好处？多创线程就怎么了？压测的时候创建几千个线程才几毫秒这点儿开销有必要节省吗？

## Java线程的状态，如何转换
初始(NEW)：新创建了一个线程对象，但还没有调用start()方法。
就绪状态(RUNNABLE之READY)，执行了start()方法，线程对象进入就绪状态，等待CPU的调度。
运行中状态(RUNNABLE之RUNNING)，CPU将就绪状态的线程分配到CPU上，执行程序代码。
阻塞状态(BLOCKED)，线程阻塞在进入synchronized关键字修饰的方法或代码块(获取锁)时的状态。
终止状态(TERMINATED)：线程执行完了或者因异常退出了run()方法，该线程结束生命周期。

阻塞又分为好几种，分别是：
等待阻塞(WAITING)：运行中的线程执行wait()方法，JVM会把该线程放入等待队列中。
同步阻塞(SYNCHRONIZED)：运行中的线程在获取synchronized同步锁失败(因为锁被其他线程占用)。
其他阻塞(其他线程调用了该线程的sleep()或join()方法，或者发出了I/O请求时，该线程就会进入阻塞状态。)
超时阻塞(TIMED_WAITING)：运行中的线程执行sleep(long millis)或join(long millis)方法，或者LockSupport.parkNanos()或LockSupport.parkUntil()方法，指定了超时时间，超时后JVM会把该线程从等待队列中移到同步队列中。
interrupted阻塞：线程执行了interrupt()方法，该线程处于interrupted状态。
stop阻塞：线程执行了stop()方法，该线程处于stop状态。


## Java的Lock和synchronized的原理和区别
1.来源：
lock是一个接口，而synchronized是java的一个关键字，synchronized是内置的语言实现；

2.异常是否释放锁：
synchronized在发生异常时候会自动释放占有的锁，因此不会出现死锁；而lock发生异常时候，不会主动释放占有的锁，必须手动unlock来释放锁，可能引起死锁的发生。（所以最好将同步代码块用try catch包起来，finally中写入unlock，避免死锁的发生。）

3.是否响应中断
lock等待锁过程中可以用interrupt来中断等待，而synchronized只能等待锁的释放，不能响应中断；

4.是否知道获取锁
Lock可以通过trylock来知道有没有获取锁，而synchronized不能；

5.Lock可以提高多个线程进行读操作的效率。（可以通过readwritelock实现读写分离）

6.在性能上来说，如果竞争资源不激烈，两者的性能是差不多的，而当竞争资源非常激烈时（即有大量线程同时竞争），此时Lock的性能要远远优于synchronized。所以说，在具体使用时要根据适当情况选择。

7.synchronized使用Object对象本身的wait 、notify、notifyAll调度机制，而Lock可以使用Condition进行线程之间的调度。

synchronized和lock的用法区别
synchronized：在需要同步的对象中加入此控制，synchronized可以加在方法上，也可以加在特定代码块中，括号中表示需要锁的对象。

lock：一般使用ReentrantLock类做为锁。在加锁和解锁处需要通过lock()和unlock()显示指出。所以一般会在finally块中写unlock()以防死锁。

## 对象锁和类锁的区别

## 线程池有哪些参数，分别的含义

## 如果线程池核心线程数设置为5，最大线程数设置为10，阻塞队列是一个无界队列，一直提交线程，线程数最大能达到多少？

## 如果线程池核心线程数设置为5，最大线程数设置为10，阻塞队列大小也设置的是10，线程池刚启动的时候有多少个线程？



## 如果达到核心线程数但是没达到最大线程数然后队列已满 这时候怎么办？

## 如果让你自己实现阻塞队列，如何实现？阻塞唤醒这一部分，如何实现？

## 线程池的拒绝策略有哪些？自己写过拒绝策略嘛

## 线程池的工作原理

## 看过Java线程池的源码吗？如果想监控线程池的资源，通过看它的源码，它有没有提供什么方式来实现这个功能？

## ConcurrentHashMap是如何保证线程安全的？concurrentHashMap什么时候用到CAS？

## HashMap为什么长度是2的n次幂，数据结构，扩容（包括元素移动的细节），线程不安全的问题

## CopyOnWriteList怎么保证线程安全，为什么这么做？

## 什么是CAS，CAS的原理，CAS的缺点，CAS 机制了解吗，存在什么问题

## 什么是AQS，AQS的原理，AQS的应用场景

## Unsafe怎么实现？

## 什么是ABA问题，如何解决ABA问题

## 什么是乐观锁，什么是悲观锁

## 什么是偏向锁，什么是轻量级锁，什么是重量级锁

## 什么是自旋锁，自旋锁的优缺点

## 什么是可重入锁，什么是不可重入锁

## 什么是公平锁，什么是非公平锁

## 什么是死锁，死锁的四个必要条件，如何避免死锁

## 什么是线程安全，什么是线程不安全

## 什么是原子性，

## 什么是可见性，

## 什么是有序性

## 什么是内存屏障，什么是内存屏障的作用

## Java中的原子类是怎么实现的知道吗？

## volatile关键字有什么特点，原理是什么？

## ThreadLocal的基本原理是什么？

## Java中有什么无锁操作的方式？


## 如果在线程池中的task中出现了没有捕获的异常会对当前线程有什么影响？对线程池有什么影响？

## 如果出现上面这种异常应该对线程进行什么处理呢，线程池应该怎么处理呢？

## ReentrantLock 对比 sync 锁

## lockInterruptibly()、acquire()、tryAcquire() 方法

## Java多线程怎么保证同步？

## 怎么保证3个线程执行顺序？

## Java解决同步的方式？

## Java的同步安全的三个条件。

## 因为创建线程是比较耗时的，JDK的线程池能不能一开始就创建好线程？

## 线程池的阻塞队列都有哪些类型，介绍一下原理呢？

## ThredLocal用过吗，解决什么问题，拿不到父线程ThredLocal怎么解决，用它处理trace怎么保证线程池父子线程trace 正常?


# JavaEE
## Http服务器应该关注IO、内存还是CPU?

## 用的BIO还是NIO，有什么区别？

## BIO开发模式和NIO开发模式有什么区别？

## BIO模式的处理流程是怎么样的？

## 能够承受10000并发吗？为什么？

## 只有一个核需要同步多线程吗？

## 有一个线程会在某个时刻修改一个flag，多个线程一直读这个flag，怎么解决保证线程安全？这里我答了锁，然后说也可以给这个flag加volatile。然后感觉面试官意思只有volatile不行，但是这里不是只有一个线程在更新数据吗，需要考虑原子性修改问题吗？为啥只有volatile不行，有懂哥解释下吗。

## Java的线程安全问题。

## 怎么查看一个进程占用的内存大小？

## 线程池是怎么存储线程的？

## 知道tomcat怎么解析web.xml文档的吗？

# jvm
## JVM调优聊聊

## JVM内存模型

## JMM内存模型

## JVM内存模型和JMM内存模型的区别

## 聊聊垃圾回收器，什么是垃圾回收

## 垃圾回收器的分类，垃圾回收器的实现原理，垃圾回收器的优缺点

## 常用 GC 算法，常用的垃圾收集器， G1 了解吗

## gc root的分类，gc root的作用，的选择

## 聊聊类加载器，类加载器的分类，类加载器的实现原理，类加载器的优缺点

## 聊聊双亲委派模型，双亲委派模型的优缺点

## 打破双亲委派原则的方法和例子。

## 了解URLClassLoader吗？

## 标记清除算法的过程，标记清楚算法如何给对象分配内存空间

## 标记整理算法的过程，标记整理算法如何给对象分配内存空间

## 复制算法的过程，复制算法如何给对象分配内存空间

## 分代收集算法的过程，分代收集算法如何给对象分配内存空间

## 聊聊永久代，永久代的作用，永久代的实现原理，永久代的优缺点

## 聊聊元空间，元空间的作用，元空间的实现原理，元空间的优缺点

## 聊聊方法区，方法区的作用，方法区的实现原理，方法区的优缺点

## 聊聊对象的创建过程，对象的创建过程中发生了什么

## cpu 打满且频繁 full GC，怎么解决？

## 有 jvm 调优的经验吗？实际工作中遇到过内存相关的问题吗？用过哪些堆栈工具调试？

## OOM介绍一下。会发生在哪些区域？

## 怎么控制每个区域的大小？

## 垃圾回收器有些什么？

## 元空间是什么？







# mysql
## 什么是索引，索引的优缺点，索引的数据结构，索引的分类，索引的实现原理，索引的使用场景，索引的创建原则，索引的维护，索引的优化，索引的失效，索引的失效原因，索引的失效场景

## 聊聊联合索引，数据结构是怎样的索引如何生成的红黑树和B+树的区别。为什么是B+ 树

## 读一颗B+树几次IO？

## 事务的ACID，每一项是如何保证的？

## 简单描述一下数据库的四种隔离级别以及对应的三种相关问题

## 事务的隔离级别，每一项是如何保证的？

## 事务的提交和回滚过程和原理。

## 事务的并发问题，如何解决？

## 事务的日志，日志的作用，日志的分类，日志的实现原理，日志的实现方式，日志的恢复，日志的恢复原理，日志的恢复方式

## 什么是MVCC，MVCC的实现原理，MVCC的实现方式。MVCC + 锁 保证隔离性

## 造成幻读的原因了解吗，快照读、当前读。

## 分库分表是以什么维度来划分的？划分的算法是怎样的，会不会出现数据分配不均衡的情况。

## 什么是分布式事务，分布式事务的实现方式，分布式事务的实现原理

## 双写过程会有分布事务问题，如何解决。如果采用最终一致性的思想，那么并发请求来了好几个发现数据不一致怎么办？

## 数据库主从复制时如何做的？但是如果突然挂掉了，如何保证挂掉那段时间的数据？

## 说说自己对于 MySQL 常见的两种存储引擎

## 为什么索引能提高查询速度？

## 对于大表的常见优化手段说一下？

## 说说你对 MySQL 的锁的理解

## 对于SQL慢查询的优化？

## PrepareStatement预编译的过程是在哪里？

## 为什么使用statement会有SQL注入的风险呢？

## 如果有一个SQL语句，我想进行SQL注入攻击，应该怎么样攻击，怎么样设计SQL语句？

## 索引覆盖了解吗

## 索引失效的场景

## 数据库怎么解决多个线程同时写。并发更新场景的时候会有什么问题，怎么解决。

## 左模糊匹配什么时候可以走索引？

## Select ...... LIMIT 100000, 10有什么问题？

## 那MySQL其实也有Buffer Pool，热点数据也在Buffer Pool里边，为啥不行？
MySQL热点数据按照页来存储，可能会存放很多非热点数据，导致内存不够。

# mybatis

## mybatis的缓存机制

## mybatis的一级缓存和二级缓存

## mybatis的缓存机制和spring的缓存机制的区别

## Mybatis和JDBC的区别

## 如果有大量的增删操作，那么应该选择哪个存储引擎，为什么？ 


# spring
## spring的ioc和aop的实现原理

## aop在项目中用过吗？怎么用的？底层如何实现的？介绍一下动态代理。jdk原生的动态代理和cglib的动态代理有什么区别？ 

## Spring 事务了解吗，Spring 事务的注解不生效，是什么原因

## spring的事务传播机制

## spring的事务隔离级别

## 事务为什么在public方法上才有效？

## Spring Bean 的作用域

## Spring Bean 的生命周期

## spring本地缓存，多级缓存如何保证数据一致性

## 配置了@Service就一定会放入bean中吗？有没有什么条件？

## 如果第三方jar包中有一个@Service，会被扫描进来吗？

## 第三方jar包如何保证spring会将它加载进spring中？第三方jar包要想被扫描进来的话是要将它的类路径加载进spring是吗？

## springboot如何实现自动装配的？

## Spring中为什么要将bean交给Spring来管理？

## 如果我自己弄一套Controller、Service、Dao，不依赖spring容器，能不能work，这个过程应该怎么写知道吗？

## Spring的bean通常会new多少个对象，比如userService是每一个请求来了就new一个userService还是全局共享一个userService？

## 单例和多例有什么区别，什么时候用多例。

## 就拿这个userService来说，假设里面有个一个getUserById的方法，那应该把这个userService的scope设置成单例的还是session的？singleton，因为一般来说service和dao都是无状态的，只是通过service和dao来操作数据库，使用session或者prototype的话也可以，只是会浪费资源。

## spring的扩展点

## Spring 怎么替换原始bean对象 。

## SpringBoot的启动流程。

## 三级缓存怎么实现一致性？

## 本地缓存修改后，同步到redis的频率？



# 微服务
## 什么是 RPC?RPC原理是什么? 

## 了解SOA，微服务吗？

## 分布式系统如何负载均衡？如何确定访问的资源在哪个服务器上？

## 设计一个分布式负载均衡缓冲系统，如何快速定位到是那个服务器

## 分布式事务遇到了死锁的场景是怎么去解决的？

## 什么是服务治理？服务治理的作用是什么？服务治理的实现方式有哪些？

## 什么是服务注册中心？服务注册中心的作用是什么？服务注册中心的实现方式有哪些？

## 微服务的特点，如何实现服务发现和负载均衡

## 服务发现是怎么实现的

## 服务降级是怎么实现的

## 服务端将服务注册进去，客户端请求服务，这个过程在项目中大概是什么样子的，描述一下？

## 客户端发起调用的时候每次都去获取节点信息吗？

## 网络分区了解吗，CAP 理论

## eureke是ap还是cp,为啥要这么设计


## 分布式信号量怎么实现？

## 介绍一下微服务项目启动的时候会干嘛？

## 注册中心怎么监听服务下线？

## 怎么防止注册中心被黑客注册一个机器进去？（不会

# zookeeper
## zookeeper作为注册中心是怎么存储的，存储了什么数据在zookeeper中？

## 为什么要把每个服务端注册成临时节点？

## 服务端将服务注册进去，客户端请求服务，这个过程在项目中大概是什么样子的，描述一下？

## 客户端发起调用的时候每次都去获取节点信息吗？

## 如果每次都获取的话性能就会比较低，有没有什么优化方案？（用watcher）

## 使用watcher的时候需要注意什么？watcher回调完后还要做什么事情吗？

## 



# redis
## 如果redis作为分布式锁的时候，主节点挂掉了，但是数据还没有同步到从节点，这种情况怎么办？

## 解决缓存击穿的方式有哪几种？

## 跳跃表的思想时怎样的？哪里有用到跳跃表？

## Redis缓存穿透，怎么解决？ 

## redis 内存淘汰机制（MySQL里有2000w数据，Redis中只存20w的数据，如何保证Redis中的数据都是热点数据？） 

## redis 常见数据结构以及使用场景分析？

## 为什么zset要在数据比较小的时候使用压缩列表呢，压缩列表是一个什么样的数据结构，能带来什么好处呢？

## 如何解决 Redis 的并发竞争 Key 问题

## redis 设置过期时间

## redis 持久化机制（怎么保证 redis 挂掉之后再重启数据可以进行恢复）？

## redis 的集群方案（redis 集群方案有哪些？redis 集群方案有什么优缺点？）

## 如何保证缓存与数据库双写时的数据一致性？

## 如何保证缓冲区和数据库之间的强一致性（使用加锁）


## redis部署的是单机还是集群？

## redis哨兵模式和集群模式分别是用来解决什么问题的？

## Redis集群模式以及主从模式的应用场景有什么不同？

## 集群模式当获取数据时，可能会回复asyn、moved，了不了解这些回复分别代表什么？（不了解。。。）

## 用集群模式的话会有什么限制吗？（不同节点上的数据无法使用事务）

## setNX实现分布式锁有什么问题？

## 自动续期原理是什么？

## 自动续期就没有问题了吗？

## Redis的ZSet底层结构。

## Redis的压缩列表的连锁更新的问题。

# mq
## 延时队列的实现原理？


# io netty
## netty线程模型 怎么解决粘包问题

## netty的零拷贝

## netty的编解码

## 自定义协议有了解过吗

## 解释一下什么是粘包，什么是拆包

## 有没有了解过netty里自己解决粘包拆包的？

## HTTP如何解决粘包问题的？（header字段？）

## HTTP中的content-length和chunk（听着好像是这么读的）解决粘包知不知道？





# 业务场景问题
## 设计一个登录态系统。如何保证密码加传输。如果你想服务器请求非对称加密的公钥时，请求被拦截篡改你怎么办？

## 你们的系统是如何保证数据的一致性的？

## 订单号不能重复，你怎么设计生成订单号？

## 如果线上用户出现502错误你怎么排查？

## 并发量很大，服务器宕机。你会怎么做？ 

## 限流怎么做的？

## 程序crash如何定位

## 工作中如何做性能优化？服务性能问题如何定位


## 如果用户量上涨怎么优化

## 场景题：亿级别黑名单、短链接，你考虑使用什么数据结构？布隆过滤器、前缀树。其中布隆过滤器问了基本的原理和实现方式


## rocketmq拉取消息的时候，是消费者端带上了拉取的开始位置，还是broker根据上次最新commit的offset往后拉取	

## 下订单之后库存怎么自动扣减的？

## 用消息队列来自动扣减的话，数据之间一致性较弱，要等比较长时间才能回归一致性，怎么办。-> 分布式事务

## 库存的自动归还怎么做的？

## 具体锁库存的SQL语句是怎么样的？ 
UPDATE SET lock=lock+num WHERE skuId=xxx AND stock-lock>=num;

## 怎么解决消息顺序消费的问题？ -> 消息设置自增id，然后redis记录处理到哪个id了，然后消费的时候从redis里面取出来，然后从这个id开始消费

## 那如果某个消息丢失之后后面阻塞怎么办？ -> 发送端重新发送消息

## 怎么存储密码的？ -> md5盐值加密后存储

## 那盐是怎么存的？ (这个地方因为是用的框架，而且复习项目没复习到，不记得了。后面才知道，盐是存放到密码字符串里面的，可以通过解析把盐值解析出来。)

## 加了分布式锁之后造成大量线程阻塞到锁前面，把服务器资源用完怎么办？-
限流

## 限流的话又有什么问题？

## 场景题：3亿视频数据，实时统计点赞量最高的1000个视频

## 场景2：A服务调用B服务的转账业务，但是调用超时了，到底有没有执行成功？ 
可能B返回的时候超时，但是成功了的。
A系统怎么去解决这种问题？ 重发
B系统怎么去解决这种问题？ 幂等性

怎么进行幂等处理的？库存那边有哪些表？ - 工作单详情表，记录了给哪个
订单锁了什么库存
那如果超时的请求没执行完，重试的请求抵达了，会怎么办？ - 重试请求不
执行，有个工作单表防止了重复插入同一订单
那如果超时的请求没执行完，重试的请求抵达了，会怎么办？ - 重试请求不
执行，有个工作单表防止了重复插入同一订单

## 秒杀
秒杀服务是怎么样设计的？
秒杀服务的数据保存在哪儿？ redis
如果redis承载不住怎么办？ 保存到本地内存中
库存直接分配给本地内存会有什么问题？怎么解决？ 各主机库存量互不可见，导致超卖。 -> 库存分段

## 如果大量请求进来秒杀，但是又不支付会怎么办？


## 基础知识部分是怎么去学习的？


## 什么事情让你觉得很艰难，怎么度过的？
1，选择很难
2，

## 如果队员之间有争执怎么去解决？

## 什么时期比较down？

# 项目管理
## 有没有作为负责人做过什么项目

## 怎么管理团队的

## 项目的难点是什么

## 自己的优点是什么

## 你的缺点是什么

## 有没有什么团队合作的经历










